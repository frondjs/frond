(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,i.FrondJS=e()}})(function(){return function(){function s(d,e,r){function a(l,i){if(!e[l]){if(!d[l]){var n="function"==typeof require&&require;if(!i&&n)return n(l,!0);if(o)return o(l,!0);var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m}var c=e[l]={exports:{}};d[l][0].call(c.exports,function(e){var i=d[l][1][e];return a(i||e)},c,c.exports,s,d,e,r)}return e[l].exports}for(var o="function"==typeof require&&require,n=0;n<r.length;n++)a(r[n]);return a}return s}()({1:[function(e,i){function o(){this.regexes={}}o.prototype.addKit=function(i,o=null,r=null){const n=this;let s=null,d=null,p=null;if("string"==typeof i)s=i,d=o,p=r;else if("[object Object]"===Object.prototype.toString.call(i))s=i.name,d=i.items,p=i.opts;else return;if(!("string"!=typeof s||s in n)&&"[object Object]"!==!Object.prototype.toString.call(d)){const e=Object.keys(d);if(!(1>e.length)){const i=e.filter(function(e){return"function"==typeof d[e]&&"string"==typeof e&&!(e in n)});if(i&&!(1>i.length)){n[s]={name:s,items:[],addItem:function(e,i){if(!("string"!=typeof e||e in n))return"function"==typeof i?(n[e]=i.bind(n),-1===n[s].items.indexOf(e)&&n[s].items.push(e),!0):void 0},updateItem:function(e,i){"string"!=typeof e||"function"!=typeof i||(n[e]=i.bind(n),-1===n[s].items.indexOf(e)&&n[s].items.push(e))},removeItem:function(e){if(!(!e in n))return delete n[e],n[s].items.splice(n[s].items.indexOf(e),1),!0}};for(let e=0;e<i.length;e++)n[s].addItem(i[e],d[i[e]]);return"[object Object]"===Object.prototype.toString.call(p)&&"[object Object]"===Object.prototype.toString.call(p.regexes)&&Object.keys(p.regexes).map(function(e){const i=p.regexes[e];i instanceof RegExp&&(n.regexes[e]=p.regexes[e])}),!0}}}},o.prototype.updateKit=function(e,i){if(!(!e in this)){const o=Object.keys(i);for(let r=0;r<o.length;r++)this[e].updateItem(o[r],i[o[r]]);return!0}},i.exports=new o},{}],2:[function(e,i){i.exports={name:"array",items:{removeDuplicates:function(e,i=!1){const o=this;return i?e.filter(function(r,n){const i=e.map(function(e,i){return!!o.isEqual(e,r)&&i}).filter(function(e){return!1!==e});return!!o.isArray(i)&&i[0]===n}):e.filter(function(o,r){return e.indexOf(o)===r})},sortItemsBy:function(e,i,o="asc"){let r=null;if(this.isArray(i))r="__"+i.join("_"),e=e.map(function(e){return e[r]=this.getProp(e,i),e}.bind(this));else if(this.isString(i))r=i;else return e;return e.sort(function(e,i){const n=e[r],s=i[r];return"desc"==o?n>s?-1:s>n?1:0:(o="asc")?n>s?1:s>n?-1:0:n>s?1:s>n?-1:0})}},opts:{dependencies:["type","object"]}}},{}],3:[function(e,i){i.exports={name:"dom",items:{setDOMGlobal:function(e,i){if(-1===["window","document"].indexOf(e))return;const o=e.slice(0,1).toUpperCase()+e.slice(1);return this["DOMGlobal"+o]=i,!0},checkDOMGlobals:function(){const e=["window","document"],o="DOMGlobal";for(let r=0;r<e.length;r++){const i=e[r],n=i.slice(0,1).toUpperCase()+i.slice(1);"undefined"==typeof this[o+n]&&(this[o+n]="window"==i?window:"document"==i?document:void 0)}return!0},getViewportDimensions:function(){this.checkDOMGlobals();const i=this.DOMGlobalWindow,o=this.DOMGlobalDocument,r=!("innerWidth"in i),n=r?i:o.documentElement||o.body,e=r?"inner":"client";return{width:n[e+"Width"],height:n[e+"Height"]}},getAbsoluteDistanceFromTop:function(e){const i=(((t=document.documentElement)||(t=document.body.parentNode))&&"number"==typeof t.scrollTop?t:document.body).scrollTop;return i+e.getBoundingClientRect().top},getViewportRelativeDistanceFromTop:function(e){return e.getBoundingClientRect().top},getViewportRelativeDistanceFromBottom:function(e){const i=this.getViewportRelativeDistanceFromTop(e),o=this.getViewportDimensions();return o.height-i},getCaretPos:function(e){let i,o,r,n,s,a=0,d=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(a=e.selectionStart,d=e.selectionEnd):(o=document.selection.createRange(),o&&o.parentElement()==e&&(n=e.value.length,i=e.value.replace(/\r\n/g,"\n"),r=e.createTextRange(),r.moveToBookmark(o.getBookmark()),s=e.createTextRange(),s.collapse(!1),-1<r.compareEndPoints("StartToEnd",s)?a=d=n:(a=-r.moveStart("character",-n),a+=i.slice(0,a).split("\n").length-1,-1<r.compareEndPoints("EndToEnd",s)?d=n:(d=-r.moveEnd("character",-n),d+=i.slice(0,d).split("\n").length-1)))),{start:a,end:d}},setCaretPos:function(e,i,o=null){if(this.isNull(o)&&(o=i),e.setSelectionRange)e.focus(),e.setSelectionRange(i,o);else if(e.createTextRange){const r=e.createTextRange();r.collapse(!0),r.moveEnd("character",o),r.moveStart("character",i),r.select()}}}}},{}],4:[function(e,i){i.exports={name:"error",items:{objectifyError:function(e){const i=JSON.stringify(e,Object.getOwnPropertyNames(e)),o=JSON.parse(i);return o.stack=o.stack.split(/[\n]/g),o},stringifyError:function(e){return JSON.stringify(this.objectifyError(e))}}}},{}],5:[function(e,i){i.exports={name:"function",items:{waitForIt:function(e,i,o=300,r=1e4){let n=setInterval(function(){!0===e.call()&&(clearInterval(n),i.call())},o);setTimeout(function(){n&&(clearInterval(n),i.call(null,!1))},r)},throttle:function(e,i,o){let r=!0,n=!0;if("function"!=typeof e)throw new TypeError("Invalid debounce function.");return"[object Object]"===Object.prototype.toString.call(o)&&(r="leading"in o?!!o.leading:r,n="trailing"in o?!!o.trailing:n),this.debounce(e,i,{leading:r,maxWait:i,trailing:n})},debounce:function(e,i,o){var u=Math.max;function r(i){let o=g,r=y;return g=y=void 0,b=i,f=e.apply(r,o),f}function n(e){return b=e,k=setTimeout(d,i),w?r(e):f}function s(e){var o=Math.min;let r=e-v,n=e-b,s=i-r;return O?o(s,h-n):s}function a(e){let o=e-v,r=e-b;return void 0===v||o>=i||0>o||O&&r>=h}function d(){let e=Date.now();return a(e)?p(e):void(k=setTimeout(d,s(e)))}function p(e){return(k=void 0,E&&g)?r(e):(g=y=void 0,f)}function l(){void 0!==k&&clearTimeout(k),b=0,g=v=y=k=void 0}function m(){return void 0===k?f:p(Date.now())}function c(){let e=Date.now(),o=a(e);if(g=arguments,y=this,v=e,o){if(void 0===k)return n(v);if(O)return k=setTimeout(d,i),r(v)}return void 0===k&&(k=setTimeout(d,i)),f}let g,y,h,f,k,v,b=0,w=!1,O=!1,E=!0;if("function"!=typeof e)throw new TypeError("Invalid debounce function.");return i=parseFloat(i)||0,"[object Object]"===Object.prototype.toString.call(o)&&(w=!!o.leading,O="maxWait"in o,h=O?u(parseFloat(o.maxWait)||0,i):h,E="trailing"in o?!!o.trailing:E),c.cancel=l,c.flush=m,c},stringify:function(e){return this.isObject(e)||this.isArray(e)?JSON.stringify(e):this.isString(e)?e:this.isNumber(e)||this.isInteger(e)?e.toString():this.isBoolean(e)?e.toString():this.isNull(e)?"null":this.isUndefined(e)?"undefined":this.isDate(e)?e.toISOString():this.isError(e)?this.stringifyError(e):this.isNan(e)?"NaN":this.isDOMElement(e)&&e.innerText?e.innerText:this.isFunction(e)||this.isRegExp(e)?e.toString():this.isBigInt(e)||this.isSymbol(e)?e.toString():""},destringify:function(e,i=null){if(!this.isString(i))return e;else if("object"==i||"array"==i)try{return JSON.parse(e)}catch(o){return"object"==i?{}:"array"==i?[]:{}}else return"string"==i?e:"number"==i?parseFloat(e):"boolean"==i?"true"==e:"null"==i?null:"undefined"==i?void 0:"data"==i?new Date(e):"error"==i?this.objectifyError(e):"nan"==i?NaN:"regexp"==i?new RegExp(e):"bigint"==i?BigInt(e):"symbol"==i?Symbol(e):e}},dependencies:["type","error"]}},{}],6:[function(e,i){i.exports={name:"hashing",items:{hashcode:function(e){let o=0;if("string"!=typeof e)return o;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);o=(o<<5)-o+i,o&=o}return o}}}},{}],7:[function(e,i){i.exports={name:"object",items:{getProp:function(e,i,o=void 0){if(!this.isObject(e))return o;if(this.isString(i))i=[i];else if(!this.isArray(i))return o;if(1>i.length)return o;let r=0;for(const n=i.length;this.isObject(e)&&r<n;)e=e[i[r]],r+=1;return this.isUndefined(e)?o:e},removeProp:function(e,i){if(this.isObject(e)){const o=Object.keys(e);return-1===o.indexOf(i)?e:o.reduce(function(o,r){return r!=i&&(o[r]=e[r]),o},{})}}},opts:{dependencies:["type"]}}},{}],8:[function(e,i){i.exports={name:"string",items:{sprintf:function(e,i){function o(e){if(0===i.length||!r.test(e))return e;else{const n=e.replace(r,i[0]);return i.shift(),o(n)}}if("number"==typeof i&&(i=i.toString()),"string"==typeof i&&0<i.length&&(i=[i]),!Array.isArray(i))return e;const r=/(%s)/;return r.test(e)?o(e):e},template:function(e,i={}){if(!this.isString(e))return;const o=/({{)[^{}]+(}})/gm,r=e.match(o);return r&&0!==r.length?this.isObject(i)?r.reduce(function(e,o){const r=o.slice(2,-2);return i.hasOwnProperty(r)&&(e=e.replace(o,i[r])),e},e):e:e},uppercase:function(e,i=void 0){if(this.isString(e)){const o="string"==typeof i?i.replace("_","-"):i;return e.toLocaleUpperCase(o)}},lowercase:function(e,i=void 0){if(this.isString(e)){const o="string"==typeof i?i.replace("_","-"):i;return e.toLocaleLowerCase(o)}},sentencecase:function(e,o=void 0,r=[]){if(!this.isString(e))return;let n="";const s=e.split(" "),a=s.length;for(let d=0;d<a;d++){const e=s[d],i=d+1===a?"":" ";n+=-1===r.indexOf(e)?0===d?this.uppercase(e.slice(0,1),o)+this.lowercase(e.slice(1))+i:e+i:e+i}return n},titlecase:function(e,o=void 0,r=[]){if(!this.isString(e))return;let n="";const s=e.split(" "),a=s.length;for(let d=0;d<a;d++){const e=s[d],i=d+1===a?"":" ";n+=-1===r.indexOf(e)?this.uppercase(e.slice(0,1),o)+this.lowercase(e.slice(1),o)+i:e+i}return n}},opts:{dependencies:["type","object"]}}},{}],9:[function(e,i){i.exports={name:"type",items:{isString:function(e){return"string"==typeof e},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)},isPromise:function(e){return!!(e&&"function"==typeof e.then)},isError:function(e){return e instanceof Error},isDate:function(e){return e instanceof Date},isFunction:function(e){return"function"==typeof e},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isNumber:function(e){return"number"==typeof e&&!0===Number.isFinite(e)},isInteger:function(e){return Number.isInteger(e)},isNan:function(e){return"number"==typeof e&&e!=+e},isRegExp:function(e){return e instanceof RegExp},isBoolean:function(e){return!0===e||!1===e},isBigInt:function(e){return"bigint"==typeof e},isSymbol:function(e){return"symbol"==typeof e},isDOMElement:function(e){return!!(e&&(e.nodeName||e.prop&&e.attr&&e.find))},getType:function(e){return this.isObject(e)?"object":this.isArray(e)?"array":this.isPromise(e)?"promise":this.isError(e)?"error":this.isDate(e)?"date":this.isNull(e)?"null":this.isUndefined(e)?"undefined":this.isFunction(e)?"function":this.isNumber(e)?"number":this.isNan(e)?"nan":this.isRegExp(e)?"regexp":this.isString(e)?"string":this.isBoolean(e)?"boolean":this.isBigInt(e)?"bigint":this.isSymbol(e)?"symbol":this.isDOMElement(e)?"domelement":"none"}}}},{}],10:[function(e,i){i.exports={name:"validator",items:{isEmpty:function(e){return this.isObject(e)?this.isEqual({},e):this.isArray(e)?0===e.length:!!this.isNull(e)||!!this.isUndefined(e)||(this.isNumber(e)?this.isEqual(0,e):!!this.isNan(e)||(this.isString(e)?this.isEqual("",e):!!this.isBoolean(e)&&this.isEqual(!1,e)))},isNotEmpty:function(e){return!0!==this.isEmpty(e)},isEqual:function(e,o){if(e===o)return!0;if(null===e||null===o)return!1;const r=this.getType(e),n=this.getType(o);if(r!=n)return!1;switch(r){case"object":const n=Object.keys(e),s=Object.keys(o),a=n.length;if(a!==s.length)return!1;for(let r=0;r<a;r++){const i=n[r];if(-1===s.indexOf(i))return!1;if(!this.isEqual(e[i],o[i]))return!1}return!0;break;case"array":const d=e.length;if(d!==o.length)return!1;for(let r=0;r<d;r++)if(!this.isEqual(e[r],o[r]))return!1;return!0;break;case"error":const p=this.objectifyError(e),l=this.objectifyError(o);return this.isEqual(p,l);break;case"date":return e.getTime()===o.getTime();break;case"undefined":return!0;break;case"number":case"nan":case"string":case"boolean":case"domelement":return e===o;break;case"regexp":return e.toString()===o.toString();break;default:return!1;}},isUUID:function(e){return this.regexes.uuid.test(e)},isEmail:function(e){return this.regexes.email.test(e)},isPhoneNum:function(e,i,o=null){const r=this.isObject(o)&&o.hasOwnProperty("parsePhoneNumber")?o:this.isObject(window.libphonenumber)&&window.libphonenumber.hasOwnProperty("parsePhoneNumber")?window.libphonenumber:null;if(this.isNull(r))throw new Error("PHONE_NUM_LIB_NOT_FOUND");try{return r.parsePhoneNumber(e,i),!0}catch(i){return!1}},isURL:function(e,i={}){if("string"!=typeof e)return!1;i=Object.assign({},{allowLocal:!1,allowDataUrl:!1,schemes:["http","https"]},i);const{allowLocal:o,allowDataUrl:r,schemes:n}=i;let s="^(?:(?:"+n.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",a="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(o?a+="?":s+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",s+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+a+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",r){s="(?:"+s+")|(?:^"+("data:(?:\\w+\\/[-+.\\w]+(?:;[\\w=]+)*)?(?:;base64)?,"+"[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*")+"$)"}const d=new RegExp(s,"i");return!!d.test(e)}},opts:{dependencies:["type","error"],regexes:{uuid:/[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}/g,email:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}}}},{}],11:[function(e,i){function o(e){const i=e||{},o=Object.keys(i);this._events=0<o.length?o.reduce(function(e,o){return e[o]=Array.isArray(i[o])?i[o]:[i[o]],e},{}):{}}o.prototype._eventsWillBeFiredOnce={},o.prototype.on=function(i,o,r=null){if("function"!=typeof o||"string"!=typeof i)return!1;this._events.hasOwnProperty(i)||(this._events[i]=[]),this._eventsWillBeFiredOnce.hasOwnProperty(i)||(this._eventsWillBeFiredOnce[i]=[]);const n="[object Object]"===Object.prototype.toString.call(r)?r:{once:!1},s=this._events[i].push(o);return n.once&&!0===n.once&&this._eventsWillBeFiredOnce[i].push(s-1),!0},o.prototype.once=function(e,i){return this.on(e,i,{once:!0})},o.prototype.emit=function(i,o=[]){if(!this._events.hasOwnProperty(i))return!1;const r=Array.isArray(o)?o:[o],n=this._events[i].length,s=[];for(let e=0;e<n;e++){const o=this._events[i][e].apply(this,r);s.push(o)}if(this._eventsWillBeFiredOnce.hasOwnProperty(i))for(var e=0;e<this._eventsWillBeFiredOnce[i].length;e++)this.removeListener(i,this._eventsWillBeFiredOnce[i][e]);return s},o.prototype.removeListener=function(e,i){this._events[e].splice(i,1)},o.prototype.removeListeners=function(e){return"string"==typeof e&&!!this._events.hasOwnProperty(e)&&(this._events[e]=[],this._eventsWillBeFiredOnce.hasOwnProperty(e)&&(this._eventsWillBeFiredOnce[e]=[]),!0)},o.prototype.flushEventEmitter=function(){this._events={},this._eventsWillBeFiredOnce={}},i.exports=o},{}],12:[function(e,i){function o(e){const i=e||{},o=Object.keys(i);this._events=0<o.length?o.reduce(function(e,o){return e[o]=Array.isArray(i[o])?i[o]:[i[o]],e},{}):{}}o.prototype._eventsWillBeFiredOnce={},o.prototype.on=function(e,i,o=null){if("function"!=typeof i||"string"!=typeof e)return!1;this._events.hasOwnProperty(e)||(this._events[e]=[]),this._eventsWillBeFiredOnce.hasOwnProperty(e)||(this._eventsWillBeFiredOnce[e]=[]);const r="[object Object]"===Object.prototype.toString.call(o)?o:{once:!1},n=this._events[e].push(i);return r.once&&!0===r.once&&this._eventsWillBeFiredOnce[e].push(n-1),!0},o.prototype.once=function(e,i){return this.on(e,i,{once:!0})},o.prototype.emit=function(e,i=[]){if(!this._events.hasOwnProperty(e))return!1;const o=Array.isArray(i)?i:[i],r=this._events[e].length,n=[];for(let s=0;s<r;s++){const i=this._events[e][s].apply(this,o);n.push(i)}if(this._eventsWillBeFiredOnce.hasOwnProperty(e))for(var s=0;s<this._eventsWillBeFiredOnce[e].length;s++)this.removeListener(e,this._eventsWillBeFiredOnce[e][s]);return n},o.prototype.removeListener=function(e,i){this._events[e].splice(i,1)},o.prototype.removeListeners=function(e){return!("string"!=typeof e)&&!!this._events.hasOwnProperty(e)&&(this._events[e]=[],this._eventsWillBeFiredOnce.hasOwnProperty(e)&&(this._eventsWillBeFiredOnce[e]=[]),!0)},o.prototype.flushEventEmitter=function(){this._events={},this._eventsWillBeFiredOnce={}},i.exports=o},{}],13:[function(e,i){function o(e={}){this.error=null,this.window=e.window}o.prototype.test=function(){if("undefined"==typeof this.window||null===this.window)return!1;if("localStorage"in this.window){try{this.window.localStorage.setItem("test","pass"),this.window.localStorage.removeItem("test")}catch(e){return!1}return!0}return!1},o.prototype.clearError=function(){this.error=null},o.prototype.set=function(i,o,r){const n=r.kit.stringify(o);try{this.window.localStorage.setItem(i,n);const s=r.kit.getType(o);this.window.localStorage.setItem("LOCALSTORAGEPRO_TYPE_"+i,s)}catch(e){return this.error=e,!1}return!0},o.prototype.get=function(e,i){const o=this.window.localStorage.getItem("LOCALSTORAGEPRO_TYPE_"+e);if("string"==typeof o&&0<o.length){const r=this.window.localStorage.getItem(e);return i.kit.destringify(r,o)}return this.window.localStorage.getItem(e)},o.prototype.remove=function(e){return this.window.localStorage.removeItem(e),this.window.localStorage.removeItem("LOCALSTORAGEPRO_TYPE_"+e),!0},o.prototype.clear=function(){return this.window.localStorage.clear(),!0},o.prototype.length=function(){return this.window.localStorage.length/2},o.prototype.key=function(e){return this.window.localStorage(e)},o.prototype.json=function e(i){const e={};for(let o=0;o<2*this.length();o++){const r=this.window.localStorage.key(o);21<r.length&&"LOCALSTORAGEPRO_TYPE_"==r.slice(0,21)||(e[r]=this.get(r,i))}return e},i.exports=o},{}],14:[function(e,i){function o(){this.error=null,this.data={}}o.prototype.test=function(){return!0},o.prototype.clearError=function(){this.error=null},o.prototype.set=function(e,i){return this.data[e]=i,!0},o.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},o.prototype.remove=function(i){if(!this.data.hasOwnProperty(i))return null;const o=Object.keys(this.data),r={};for(let n=0;n<o.length;n++){const s=o[n];s!=i&&(r[s]=this.data[s])}return this.data=r,!0},o.prototype.clear=function(){return this.data={},!0},o.prototype.length=function(){return Object.keys(this.data).length},o.prototype.key=function(e){const i=Object.keys(this.data);return e<i.length&&0<=e?i[e]:null},o.prototype.json=function(){return this.data},i.exports=o},{}],15:[function(e,i){function o(i={}){n.call(this,{}),this.kit=r,this.kit.addKit(e("@basekits/kit-type")),this.kit.addKit(e("@basekits/kit-error")),this.kit.addKit(e("@basekits/kit-validator")),this.kit.addKit(e("@basekits/kit-object")),this.kit.addKit(e("@basekits/kit-function")),this.drivers={},this.driver=null,this.readWindow(i),this.addDriver("memory",d),this.addDriver("localStorage",s)}const r=e("@basekits/core"),n=e("event-emitter-object"),s=e("./drivers/localStorage"),d=e("./drivers/memory");o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.length=0,o.prototype.readWindow=function(e){this.window=this.kit.getProp(e,"window","undefined"==typeof window?null:window)},o.prototype.addDriver=function(e,i){const o=new i({window:this.window});!0===o.test()&&(this.drivers[e]=o,this.driver=this.drivers[e])},o.prototype.setItem=function(e,i,o=null){if(!this.isKeyValid(e))return void this.emit("error",new Error("INVALID_KEY"));const r=this.getDriver(o);return r?(r.set(this.formatKey(e),i,this),this.kit.isError(r.error))?(this.emit("error",new Error("SET_ERROR"),r.error),void r.clearError()):(this.getLength(),!0):void 0},o.prototype.getItem=function(e,i=null){if(!this.isKeyValid(e))return void this.emit("error",new Error("INVALID_KEY"));const o=this.getDriver(i);if(o){const i=o.get(this.formatKey(e),this);return this.getLength(),i}},o.prototype.removeItem=function(e,i=null){if(!this.isKeyValid(e))return void this.emit("error",new Error("INVALID_KEY"));const o=this.getDriver(i);if(o)o.remove(this.formatKey(e)),this.getLength();else return;return!0},o.prototype.clear=function(e=null){const i=this.getDriver(e);return i&&(i.clear(),this.getLength()),!0},o.prototype.key=function(e=0,i=null){const o=this.getDriver(i);return o?o.getKey(e):null},o.prototype.getLength=function(e=null){const i=this.getDriver(e);return this.length=i?i.length():0,this.length},o.prototype.json=function(e=null){const i=this.getDriver(e);return i?i.json(this):0},o.prototype.isKeyValid=function(e){return this.kit.isString(e)&&!this.kit.isEmpty(e)||this.kit.isNumber(e)},o.prototype.formatKey=function(e){return this.kit.isNumber(e)?e.toString():e},o.prototype.availableDrivers=function(){return Object.keys(this.drivers)},o.prototype.getDriver=function(e=null){return this.kit.isEmpty(e)?this.driver:-1===this.availableDrivers().indexOf(e)?void this.emit("error",new Error("DRIVER_NOT_FOUND")):this.drivers[e]},i.exports=o},{"./drivers/localStorage":13,"./drivers/memory":14,"@basekits/core":1,"@basekits/kit-error":4,"@basekits/kit-function":5,"@basekits/kit-object":7,"@basekits/kit-type":9,"@basekits/kit-validator":10,"event-emitter-object":11}],16:[function(e,i){function o(i={},o={}){r.call(this,o||{}),this._state=i||{},this.kit=n,this.kit.addKit(e("@basekits/kit-type")),this.kit.addKit(e("@basekits/kit-error")),this.kit.addKit(e("@basekits/kit-validator"))}const r=e("event-emitter-object/source"),n=e("@basekits/core");o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype._prevState=null,o.prototype.updateState=function(e){if(this.kit.isObject(e)){if(!this.kit.isObject(this.getState()))throw new Error("Current state is not an object and therefore canceled state update operation.");const i=Object.assign({},this.getState()),o=Object.assign({},i,e);this.kit.isEqual(i,o)||(this.emit("beforeUpdate",[i,o]),this._prevState=i,this._state=o,this.emit("afterUpdate",[this.getState(),this.getPrevState()]))}},o.prototype.subscribe=function(i,o){const r=this;r.kit.isFunction(o)&&(r.kit.isString(i)||r.kit.isArray(i))&&r.on("afterUpdate",function(n,s){const e=r.kit.getProp(s,i),a=r.kit.getProp(n,i);r.kit.isEqual(a,e)||o(a,e)})},o.prototype.getState=function(){return this._state},o.prototype.getPrevState=function(){return this._prevState},i.exports=o},{"@basekits/core":1,"@basekits/kit-error":4,"@basekits/kit-type":9,"@basekits/kit-validator":10,"event-emitter-object/source":12}],17:[function(e,i){function o(i={},o={}){r.call(this,o||{}),this._state=i||{},this.kit=n,this.kit.addKit(e("@basekits/kit-type")),this.kit.addKit(e("@basekits/kit-error")),this.kit.addKit(e("@basekits/kit-validator"))}const r=e("event-emitter-object/source"),n=e("@basekits/core");o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype._prevState=null,o.prototype.updateState=function(e){if(!this.kit.isObject(e))return;if(!this.kit.isObject(this.getState()))throw new Error("Current state is not an object and therefore canceled state update operation.");const i=Object.assign({},this.getState()),o=Object.assign({},i,e);this.kit.isEqual(i,o)||(this.emit("beforeUpdate",[i,o]),this._prevState=i,this._state=o,this.emit("afterUpdate",[this.getState(),this.getPrevState()]))},o.prototype.subscribe=function(e,i){const o=this;o.kit.isFunction(i)&&(o.kit.isString(e)||o.kit.isArray(e))&&o.on("afterUpdate",function(r,n){const s=o.kit.getProp(n,e),a=o.kit.getProp(r,e);o.kit.isEqual(a,s)||i(a,s)})},o.prototype.getState=function(){return this._state},o.prototype.getPrevState=function(){return this._prevState},i.exports=o},{"@basekits/core":1,"@basekits/kit-error":4,"@basekits/kit-type":9,"@basekits/kit-validator":10,"event-emitter-object/source":12}],18:[function(e,i){function o(e,i){r.call(this,e,i),this.kit=null,this.id=null,this.idAutoAssigned=null,this.parent=null,this.roots=[],this.index=0,this.input=null,this._render="__NOT_SPECIFIED__",this.renderFn=null,this.renderFnResult=null,this.children=null,this.dontRunChildrenResolverAgain=!1,this.type=null,this.domNodeTag=null,this.domNodeType=null,this.dom=null,this.domEventListeners={},this.resolvedHTMLAttrs=null,this.needsRemount=!1,this.needsMount=!0,this.destroyed=!1,this.analytics=!0,this.router=null,this.visibility=-1,this.visibilityChanges=[]}const r=e("state-manager-object/source"),n=e("../navigation"),s=e("../domEvents");o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.render=function(){this.kit.isNull(this.dom)&&(this.createDOMElement(),this.registerDOMEventListeners()),this.updateHTMLAttrs()},o.prototype.createDOMElement=function(){this.dom="plaintext"==this.domNodeType?document.createTextNode(this.input):"html"==this.domNodeType?document.createElement(this.domNodeTag):"svg"==this.domNodeType?document.createElementNS("http://www.w3.org/2000/svg",this.domNodeTag):null},o.prototype.registerDOMEventListeners=function(){const o=this,r=Object.keys(o._events);if(r&&0!==r.length)for(let e=0;e<r.length;e++){const i=r[e];s.hasOwnProperty(i)&&(o.domEventListeners[i]=function(r){if("click"==i){const e=o.kit.getProp(o.resolvedHTMLAttrs,"href","");"#"==e.slice(0,1)&&r.preventDefault()}return o.kit.isArray(o._events[i])?o._events[i].map(function(e){return e.apply(o,[r])}):o._events[i].apply(o,[r])},o.dom.addEventListener(i,o.domEventListeners[i],!1))}},o.prototype.updateHTMLAttrs=function(){const e=this.kit.getProp(this.input,"attrs",{}),i=this.resolveHTMLAttrs(e);this.kit.isEqual(this.resolvedHTMLAttrs,i)||(this.resolvedHTMLAttrs=i,this.patchHTMLAttrs())},o.prototype.resolveHTMLAttrs=function(e){const i=this,o=i.kit.isObject(e)?Object.keys(e):[];return o&&0!==o.length?o.reduce(function(o,r){const n=i.resolveHTMLAttrVal(e[r],r);return(i.kit.isString(n)||"style"==r&&i.kit.isObject(n))&&(o[r]=n),o},{}):{}},o.prototype.resolveHTMLAttrVal=function(e,i){const o=this.kit.getType(e);return"string"==o?e:"number"==o?e.toString():"object"==o&&"style"==i?e:"object"==o?JSON.stringify(e):"array"==o?JSON.stringify(e):"boolean"==o?!0===e&&"":"function"==o?this.resolveHTMLAttrVal(e.apply(this),i):"date"==o&&e.toISOString()},o.prototype.patchHTMLAttrs=function(){const e=this,i=e.kit.isObject(e.resolvedHTMLAttrs)?Object.keys(e.resolvedHTMLAttrs):[];i&&0!==i.length&&i.map(function(i){const o=e.resolvedHTMLAttrs[i];if("style"==i&&e.kit.isObject(o)){const i=Object.keys(o);i.map(function(i){e.dom.style[i]!=o[i]&&(e.dom.style[i]=o[i])})}else e.dom.hasAttribute(i)?e.dom.getAttribute(i)!=o&&e.dom.setAttribute(i,o):e.dom.setAttribute(i,o)})},o.prototype.updateChildren=function(){if(this.dontRunChildrenResolverAgain)return void(this.dontRunChildrenResolverAgain=!1);const e=this.resolveChildren();this.kit.isEqual(e,this.getChildren())||(this.children=e)},o.prototype.resolveChildren=function(){return"__NOT_SPECIFIED__"==this._render&&(this._render=this.kit.getProp(this.input,"render",null)),this.kit.isFunction(this._render)?(this.renderFn=this._render,this.renderFnResult=this.renderFn.apply(this,[]),this.kit.isArray(this.renderFnResult)?Array.from(this.renderFnResult):this.kit.isNull(this.renderFnResult)?null:[this.renderFnResult]):this.kit.isArray(this._render)?Array.from(this._render):this.kit.isNull(this._render)?null:[this._render]},o.prototype.getChildren=function(){return this.children},o.prototype.haveChildrenChanged=function(){this.dontRunChildrenResolverAgain=!0;const e=this.resolveChildren();return!this.kit.isEqual(e,this.getChildren())&&(this.children=e,!0)},o.prototype.shouldRemount=function(){return this.needsRemount},o.prototype.shouldMount=function(){return this.needsMount},o.prototype.getClassNames=function(){if(this.dom&&"plaintext"!=this.domNodeType){const e=this.dom.getAttribute("class");return this.kit.isEmpty(e)?"":e}return this.kit.getProp(this.resolvedHTMLAttrs,"class","")},o.prototype.removeAllEventListeners=function(){const e=this,o=Object.keys(e._events);if(o&&0!==o.length)for(let r=0;r<o.length;r++){const i=o[r];s.hasOwnProperty(i)&&e.dom.removeEventListener(i,e.domEventListeners[i],!1),e.removeListeners(i)}},o.prototype.removeDOMElement=function(){this.dom&&this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom)},o.prototype.isFullyVisible=function(){2!==this.visibility&&(this.visibility=2,this.visibilityChanges.push({v:2,t:Date.now()}),this.emit("visible"))},o.prototype.isPartiallyVisible=function(){1!==this.visibility&&(this.visibility=1,this.visibilityChanges.push({v:1,t:Date.now()}),this.emit("partiallyVisible"))},o.prototype.isHidden=function(){0!==this.visibility&&(this.visibility=0,this.visibilityChanges.push({v:0,t:Date.now()}),this.emit("hidden"))},o.prototype.destroy=function(){this.emit("beforeDestroy"),this.removeAllEventListeners(),this.removeDOMElement(),this.destroyed=!0,this.emit("destroy")},o.prototype.isStatic=function(){return this.kit.isEqual(this.getState(),{_tick:!1})},o.prototype.getTextContent=function(){if("plaintext"==this.type){if(this.dom)return this.dom.textContent;}else if(this.dom)return this.dom.innerText;return null},o.prototype.haveState=function(){return!this.kit.isEqual({_tick:!1},this.getState())},o.prototype.createRouter=function(e,i){return this.router=new n(e,i),this.router.kit=this.kit,this.router.build(i.components),this.router},o.prototype.getRouter=function(){return this.router},o.prototype.rerender=function(){this.updateState({_tick:!this.getState()._tick})},o.prototype.isFetching=function(){return this.kit.isNull(this.getState()._data)},o.prototype.hasFetchError=function(e){const i=this.getState()._data;if(!this.kit.isEmpty(e)){if(this.kit.getProp(i,[e,"error"]))return!0;}else if(this.kit.getProp(i,"error"))return!0;return!1},o.prototype.data=function(){return this.getState()._data},o.prototype.exportAs=function(e="json"){},i.exports=o},{"../domEvents":20,"../navigation":24,"state-manager-object/source":17}],19:[function(e,i){i.exports=function(e,i=null,o=null){const r=/([a-zA-Z0-9]+)?(#[a-zA-Z0-9\-\_]+)?(\.[a-zA-Z0-9\.\-\_]+)?/g,n=e.split(r);if(!n||0===n.length)return this.log("warning","Couldn't parse the selector you spesified for ff(selector) method."),this.log("debug",e),"";const s=this.utility.isObject(i)?i:{},a=this.utility.getProp(s,"attrs",{}),d=null===o?"":o,p=n.filter(e=>"string"==typeof e&&0<e.length).reduce(function(e,i){const o=i.slice(0,1);return"#"!=o||e.attrs.hasOwnProperty("id")?"."!=o||e.attrs.hasOwnProperty("class")?!e.hasOwnProperty("type")&&(e.type=i):e.attrs.class=i.slice(1).split(".").join(" "):e.attrs.id=i.slice(1),e},{attrs:a});return Object.assign({},p,s,{render:d})}},{}],20:[function(e,i){i.exports={focus:!0,blur:!0,reset:!0,submit:!0,scroll:!0,copy:!0,paste:!0,keydown:!0,keypress:!0,keyup:!0,click:!0,dblclick:!0,contextmenu:!0,mouseover:!0,mouseleave:!0,mousemove:!0,mousedown:!0,mouseenter:!0,mouseout:!0,mouseup:!0,wheel:!0,audioprocess:!0,canplay:!0,canplaythrough:!0,complete:!0,durationchange:!0,emptied:!0,ended:!0,loadeddata:!0,loadedmetadata:!0,pause:!0,play:!0,playing:!0,ratechange:!0,seeked:!0,seeking:!0,stalled:!0,suspend:!0,timeupdate:!0,volumechange:!0,waiting:!0}},{}],21:[function(e,i){i.exports={image:"img",link:"a",component:"div",paragraph:"p",list:"ul",listItem:"li",inline:"span",lineBreak:"br",title1:"h1",titleOne:"h1",title2:"h2",titleTwo:"h2",title3:"h3",titleThree:"h3",title4:"h4",titleFour:"h4",title5:"h5",title6:"h6",bold:"strong",emphasize:"em",underline:"u",italic:"i",codeBlock:"pre"}},{}],22:[function(e,i){i.exports=["address","article","aside","footer","header","h1",,"h2",,"h3",,"h4",,"h5",,"h6","hgroup","main","nav","section","blockquote","dd","dir","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","tt","u","var","wbr","area","audio","img","map","track","video","applet","embed","iframe","noembed","object","param","picture","source","canvas","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","menu","menuitem","summary","content","element","shadow","slot","template"]},{}],23:[function(e,i){function o(){r.call(this,{},{}),this.kit=n,this.kit.addKit(e("@basekits/kit-type")),this.kit.addKit(e("@basekits/kit-object")),this.kit.addKit(e("@basekits/kit-string")),this.kit.addKit(e("@basekits/kit-hashing")),this.kit.addKit(e("@basekits/kit-error")),this.kit.addKit(e("@basekits/kit-dom")),this.kit.addKit(e("@basekits/kit-function")),this.kit.addKit(e("@basekits/kit-validator")),this.kit.addKit(e("@basekits/kit-array")),this.componentIDCounter=null,this.memory=[],this.debug=!1,this.initTime=null,this.settings=null,this.history=[],this.throttleScrollListener=null,this.routers=[],this.networks=[]}const r=e("state-manager-object"),n=e("@basekits/core"),s=e("./component"),a=e("./network"),d=e("./frondTags"),p=e("./svgTags"),l=e("./htmlTags"),m=e("./navigation/renderer"),c=e("./core/ff"),u={invalidCreateUICall:"Memory is not empty. Please call createUI method once.",invalidInput:"You may send object, string, number, date, regexp or error as input but the following is not valid:",invalidNodeType:"Can not create a DOM element from the following input:",containerElemNotFound:"Couldn't render the app because the container DOM element (%s) you specified is not found in the DOM."},g={creatingMem:"Creating memory.",componentsInit:"%s components initiated and added to memory."};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.createUI=function(e,i=null){return this.initTime=Date.now(),this.settings={listenVisibilityChanges:this.kit.getProp(i,"listenVisibilityChanges",!1)},0<this.memory.length?void this.log("warning",u.invalidCreateUICall,this.memory):void(this.log("info",g.creatingMem),this.memory=this.createMemory(e),this.log("info",g.componentsInit,this.memory.length))},o.prototype.createMemory=function(e){function i(e,n,s){const a=o.kit.getProp(e,"id"),d=o.createComponent(e,n,s,a);if(!o.kit.isUndefined(d)){r.push(d);const e=o.getComponentChildren(d);if(o.kit.isArray(e)&&0<e.length)for(let o=0;o<e.length;o++)i(e[o],d,o)}}const o=this,r=[];return i(e,null,0),r},o.prototype.createComponent=function(e,i=null,o=0,r=null){const a=this,d=a.resolveComponentInput(e,i);if(a.kit.isUndefined(d))return void a.log("warning",u.invalidInput,e);const p=a.findComponentType(d),l=a.findComponentDOMNodeTag(p),m=a.findComponentDOMNodeType(p,l);if(!p||!m)return a.log("warning",u.invalidNodeType),void a.log("debug",d);const c=Object.assign({},a.kit.getProp(d,"state",{}),{_tick:!1}),g=a.createComponentInitialEventsFromInput(d,c),y=a.kit.getProp(d,"target");if(!a.kit.isEmpty(y)){a.kit.isEmpty(d.attrs)&&(d.attrs={});const e=a.getRouter().getLink(y);d.attrs.href=e||y}const h=new s(c,g);h.kit=n,h.index=o,h.parent=a.kit.getProp(i,"id",null),h.id=a.kit.isEmpty(r)?a.getNextComponentID():r,h.idAutoAssigned=a.kit.isEmpty(r),h.roots=[h.id].concat(a.kit.getProp(i,"roots",[])),h.input=d,h.type=p,h.domNodeTag=l,h.domNodeType=m;const f=a.kit.getProp(h.input,"analytics");return h.analytics=!0===f,h.emit("init"),h.render(),h.emit("create"),a.kit.isObject(a.kit.getProp(h.input,"router"))&&a.registerComponentRouter(h,h.input.router),h},o.prototype.getComponentChildren=function(e){const i=this.kit.getProp(e.input,"render",null);if(this.kit.isFunction(i)){const o=i.apply(e,[]);return this.kit.isArray(o)?Array.from(o):this.kit.isNull(o)?null:[o]}return this.kit.isArray(i)?Array.from(i):this.kit.isNull(i)?null:[i]},o.prototype.render=function(e=null){const i=this;if(i.kit.isNull(e)){i.settings.listenVisibilityChanges&&(i.throttleScrollListener=i.kit.throttle(function(){i.memory.map(function(e){if(e.analytics){const i=e.dom.getBoundingClientRect(),{top:o,bottom:r}=i,n=window.innerHeight;0<=o&&r<=n?e.isFullyVisible():o<n&&0<=r?e.isPartiallyVisible():e.isHidden()}})},300),window.addEventListener("scroll",i.throttleScrollListener));const e=i.memory[0];let o=document.getElementById(e.id);i.kit.isDOMElement(o)||(o=document.createElement("div"),o.setAttribute("id",e.id),document.body.insertBefore(o,null)),i.mountChildren(e),e.dom.getAttribute("id")||e.dom.setAttribute("id",e.id),o.parentNode.replaceChild(e.dom,o),e.needsMount=!1,e.emit("mount"),i.history.push(i.memory),i.log("info","Initial rendering done in "+(Date.now()-i.initTime)+"ms.")}else e.render(),i.remountChildren(e)},o.prototype.mountChildren=function(e){const o=this.memory.filter(i=>i.parent==e.id&&i.shouldMount());if(this.kit.isArray(o)){const r=o.length;if(0!==o.length)for(let n=0;n<r;n++)e.dom.insertBefore(o[n].dom,null),o[n].shouldMount()&&(o[n].needsMount=!1,o[n].emit("mount")),this.mountChildren.apply(this,[o[n]])}},o.prototype.updateMemoryBlock=function(e){function i(e,n,a){let d=null;if(e instanceof s)d=e;else{const i=o.kit.getProp(e,"id");d=o.createComponent(e,n,a,i)}if(!o.kit.isEmpty(d)){r.push(d);const e=o.getComponentChildren(d);if(o.kit.isArray(e)&&0<e.length)for(let o=0;o<e.length;o++)i(e[o],d,o)}}const o=this,r=[];return e.needsRemount=!0,e.render(),i(e,o.get(e.parent),e.index),r},o.prototype.mergeMemoryBlock=function(e){function o(i){const d=this.memory.filter(e=>e.parent==i.id),p=e.filter(e=>e.parent==i.id),l=r.kit.isArray(d)?d.length:0,m=r.kit.isArray(p)?p.length:0;if(l>m)for(let e=0;e<d.length;e++)e>=m&&n.push(d[e].id);if(this.kit.isArray(p)&&0<p.length)for(let e=0;e<p.length;e++){const i=l>e;if(i){const i=this.kit.getProp(d[e].input,"id"),r=this.kit.getProp(p[e].input,"id");this.kit.isString(r)&&i==r?(this.log("debug","Treated as same:",d[e],p[e]),a.push(r),o.apply(this,[p[e]])):(n.push(d[e].id),s.push(p[e]),o.apply(this,[p[e]]))}else s.push(p[e]),o.apply(this,[p[e]])}}const r=this,n=[],s=[],a=[];o.apply(this,[e[0]]);const d=this.memory.filter(e=>!r.kit.isEmpty(n.filter(i=>-1!==e.roots.indexOf(i)))).map(e=>e.id);if(this.removeComponents(d),this.appendComponents(s),0<a.length)for(let e=0;e<this.memory.length;e++)-1!==a.indexOf(this.memory[e].id)&&(this.memory[e].needsRemount=!0)},o.prototype.registerComponentRouter=function(e,i){const o=this;i.id=e.id;const r={initialShift:function(){const e=this;e.useAddressBar()&&window.addEventListener("popstate",function(){e.useAddressBar()&&e.shift(e.matchPath(window.location.pathname))})},afterShift:[function(){o.log("info","View changed to "+this.getActiveView().id),o.get(i.id).rerender(),window.scrollTo({top:0,behavior:"smooth"})}]};o.kit.isFunction(o.kit.getProp(i,["on","initialShift"]))&&r.initialShift.push(i.on.initialShift),o.kit.isFunction(o.kit.getProp(i,["on","afterShift"]))&&r.afterShift.push(i.on.afterShift),e.createRouter(r,i),o.routers.push(e.id)},o.prototype.createComponentInitialEventsFromInput=function(e,i){const o=this,r=o.kit.getProp(e,"on",{});o.kit.isEqual({_tick:!1},i)||(!r.hasOwnProperty("afterUpdate")&&(r.afterUpdate=[]),!o.kit.isArray(r.afterUpdate)&&(r.afterUpdate=[r.afterUpdate]),r.afterUpdate.unshift(function(){const e=o.updateMemoryBlock(this);o.mergeMemoryBlock(e),o.render(this),o.history.push(o.memory)}));const n=o.kit.getProp(e,"target"),s=o.kit.getProp(e,["attrs","href"]);if(!o.kit.isEmpty(n)){const e=o.getRouter().getLink(n);r.hasOwnProperty("click")||(r.click=[]),o.kit.isArray(r.click)||(r.click=[r.click]),r.click.unshift(function(i){e&&(i.preventDefault(),o.getRouter().shift(n))})}o.kit.isObject(o.kit.getProp(e,"router"))&&(!r.hasOwnProperty("mount")&&(r.mount=[]),!o.kit.isArray(r.mount)&&(r.mount=[r.mount]),r.mount.unshift(function(){const e=this,i=e.getRouter().matchPath();setTimeout(function(){e.getRouter().shift(i.id)},1)}));const a=o.kit.getProp(e,"network",null);if(!o.kit.isEmpty(a)){let e=null,i=null;o.kit.isArray(a)?1===a.length?i=a[0]:2===a.length&&(e=a[0],i=a[1]):i=a,r.hasOwnProperty("mount")||(r.mount=[]),o.kit.isArray(r.mount)||(r.mount=[r.mount]),r.mount.unshift(function(){const r=this;setTimeout(function(){o.getNetwork(e).request(i,r)},1)})}return r},o.prototype.resolveComponentInput=function(e){const i=this.kit.getType(e);if(-1!==["string","number","object","date","regexp","error"].indexOf(i))switch(i){case"object":if(this.kit.isObject(this.kit.getProp(e,"router"))){if(this.kit.isEmpty(e.id))throw new Error("A router component must have an id.");e.state=Object.assign({},this.kit.getProp(e,"state",{}),{_router:!0}),e.render=m}const o=this.kit.getProp(e,"network",null);return this.kit.isEmpty(o)||(e.state=Object.assign({},this.kit.getProp(e,"state",{}),{_data:null})),e;break;case"string":return e;break;case"number":case"regexp":return e.toString();break;case"date":return e.toISOString();break;case"error":return this.kit.stringifyError(e);break;default:}},o.prototype.findComponentType=function(e){const i=this.kit.getType(e);switch(i){case"string":case"number":return"plaintext";break;case"object":const o=this.kit.getProp(e,"type");if(o)return o;const r=this.kit.getProp(e,"target");return r?"link":"component";break;default:}},o.prototype.findComponentDOMNodeTag=function(e){return this.kit.isString(e)?d.hasOwnProperty(e)?d[e]:e:void 0},o.prototype.findComponentDOMNodeType=function(e,i){return"plaintext"==e?"plaintext":-1===l.indexOf(i)?-1===p.indexOf(i)?void 0:"svg":"html"},o.prototype.getNextComponentID=function(){return this.kit.isNumber(this.componentIDCounter)||(this.componentIDCounter=0),this.componentIDCounter+=1,this.componentIDCounter.toString()},o.prototype.remountChildren=function(e){const o=this.memory.filter(i=>i.parent==e.id&&(i.shouldMount()||i.shouldRemount()));if(this.kit.isArray(o)){const r=o.length;if(0!==o.length)for(let n=0;n<r;n++){const i=e.dom.childNodes.length>o[n].index?e.dom.childNodes[o[n].index]:null;e.dom.insertBefore(o[n].dom,i),o[n].shouldMount()?(o[n].needsMount=!1,o[n].emit("mount")):o[n].shouldRemount()&&(o[n].needsRemount=!1,o[n].emit("remount")),this.remountChildren(o[n])}}},o.prototype.isSame=function(e,i){const o=e.id==i.id,r=!0===e.idAutoAssigned&&!0===i.idAutoAssigned;if(!r&&!o)return!1;const n=e.isStatic(),s=i.isStatic(),a=n&&s;if(a&&o)return!0;const d=e.getClassNames(),p=i.getClassNames(),l=this.kit.isEqual(d,p),m=e.getTextContent(),c=i.getTextContent(),u=this.kit.isEqual(m,c),g=e.domNodeTag==i.domNodeTag;if(a&&u&&g&&l)return!0;const y=this.kit.isEqual(e.getState(),i.getState());return!!(!n&&!s&&o&&y)},o.prototype.replaceComponents=function(e){if(!this.kit.isObject(e))return;const o=Object.keys(e);if(0!==o.length){const r=this.memory.length;for(let n=0;n<r;n++){const i=o.indexOf(this.memory[n].id);if(-1!==i){const r=o[i];this.memory[n].destroy(),this.memory[n]=e[r]}const r=o.indexOf(this.memory[n].parent);if(-1!==r){const i=o[r];this.memory[n].parent=e[i].id}const s=this.memory[n].roots.filter(e=>-1!==o.indexOf(e));s&&0<s.length&&(this.memory[n].roots=this.memory[n].roots.map(function(i){const r=o.indexOf(i);if(-1===r)return i;const n=o[r];return e[n].id}))}}},o.prototype.destroyComponents=function(e){if(!this.kit.isArray(e))return;if(0===e.length)return;const o=this.memory.filter(i=>-1!==e.indexOf(i.id)).sort(function(e,i){return e.roots.length>i.roots.length?-1:e.roots.length<i.roots.length?1:0}).map(e=>e.id),r=this.memory.length,n=[];for(let s=0;s<o.length;s++){const e=o[s];for(let i=0;i<r;i++)this.memory[i].id==e&&(this.memory[i].destroy(),n.push(i))}},o.prototype.removeComponents=function(e){if(!this.kit.isArray(e))return;if(0===e.length)return;const o=this.memory.filter(i=>-1!==e.indexOf(i.id)).sort(function(e,i){return e.roots.length>i.roots.length?-1:e.roots.length<i.roots.length?1:0}).map(e=>e.id),r=this.memory.length,n=[];for(let s=0;s<o.length;s++){const e=o[s];for(let i=0;i<r;i++)this.memory[i].id==e&&(this.memory[i].destroy(),n.push(i))}const s=n.sort(function(e,i){return e<i?-1:e>i?1:0});for(let i=s.length-1;0<=i;i--)this.memory.splice(s[i],1)},o.prototype.appendComponents=function(e=null){if(this.kit.isArray(e)&&0!==e.length)for(let o=0;o<e.length;o++)this.memory.push(e[o])},o.prototype.get=function(e){if(!this.kit.isEmpty(e)&&this.kit.isString(e)){const o=this.memory.length;for(let r=0;r<o;r++)if(this.memory[r].id==e)return this.memory[r]}},o.prototype.getViewer=function(e=null){return this.getRouter(e)},o.prototype.getRouter=function(e=null){const i=this.kit.isEmpty(e)?this.routers[0]:e,o=this.get(i);return!!o&&o.getRouter()},o.prototype.createNetwork=function(e){const i={error:[function(){}]};i.hasOwnProperty("beforeFetch")||(i.beforeFetch=[]),i.beforeFetch.push(e.beforeFetch),i.hasOwnProperty("afterFetch")||(i.afterFetch=[]),i.afterFetch.push(e.afterFetch),this.networks.push(new a(i,e))},o.prototype.getNetwork=function(e){if(this.kit.isEmpty(e))return this.networks[0];for(let o=0;o<this.networks.length;o++)if(this.networks[o].id==e)return this.networks[o]},o.prototype.ff=c,o.prototype.log=function(e,i,o=[],...r){if("undefined"==typeof console)return;if(!this.debug)return;const n="warning"==e?"warn":"debug"==e?"warn":"info"==e?"info":"log",s=[],a=["[FrondJS]","["+e.toUpperCase()+"]",": "].join("");this.kit.isString(i)&&this.kit.isArray(o)?(i=this.kit.sprintf(i,o),s.push(a+i)):(this.kit.isString(i)?s.push(a+i):s.push(a,i),!this.kit.isEmpty(o)&&s.push(o),!this.kit.isEmpty(r)&&s.push.apply(s,r)),console.log.apply(console,s)},i.exports=o},{"./component":18,"./core/ff":19,"./frondTags":21,"./htmlTags":22,"./navigation/renderer":25,"./network":26,"./svgTags":27,"@basekits/core":1,"@basekits/kit-array":2,"@basekits/kit-dom":3,"@basekits/kit-error":4,"@basekits/kit-function":5,"@basekits/kit-hashing":6,"@basekits/kit-object":7,"@basekits/kit-string":8,"@basekits/kit-type":9,"@basekits/kit-validator":10,"state-manager-object":16}],24:[function(e,i){function o(e,i){r.call(this,e),this.id=i.id,this.views=i.views||[],this.defaultViewID=i.defaultView||"start",this.defaultLocale=i.defaultLocale||null,this.activeLocale=i.activeLocale||this.defaultLocale||null,this.basePath=i.basePath||"/",this.additionalViewProps=i.additionalViewProps||[],this.viewsAreStaticByDefault=!i.hasOwnProperty("viewsAreStaticByDefault")||i.viewsAreStaticByDefault,this.ignoreLocalePathForDefaultLocale=!i.hasOwnProperty("ignoreLocalePathForDefaultLocale")||i.ignoreLocalePathForDefaultLocale,this.manipulateAddressBar=!!i.hasOwnProperty("manipulateAddressBar")&&i.manipulateAddressBar,this.isLocalFilesystem="file:"==window.location.protocol,this.foundLocales=[],this.history=[],this.storeKeyPrefix="FROND_ROUTER_"+i.id.toUpperCase()+"_",this.initialLocation={host:window.location.host,origin:window.location.origin,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol,hash:window.location.hash&&0<window.location.hash.length?window.location.hash.slice(1):""}}const r=e("event-emitter-object"),n=e("local-storage-pro");o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.browserStore=new n,o.prototype.kit=null,o.prototype.build=function(e){const o=this;if(!o.kit.isArray(o.views)||o.kit.isEmpty(o.views))return;if(!o.kit.isObject(e))return;const r=o.kit.isNotEmpty(o.additionalViewProps)&&o.kit.isArray(o.additionalViewProps)?o.additionalViewProps:[],n=[],s=o.views.length;for(let a=0;a<s;a++){const i=o.views[a],s=o.kit.getProp(i,"id"),d=o.kit.getProp(i,"component",s),p=o.kit.getProp(e,d);if(!o.kit.isEmpty(s)&&p){const e={id:s,component:p,static:o.kit.getProp(i,"static",o.viewsAreStaticByDefault),pathName:o.kit.getProp(i,"pathName",""),parent:o.kit.getProp(i,"parent",null),access:o.kit.getProp(i,"access","public"),metadata:o.kit.getProp(i,"metadata",{}),locale:o.kit.getProp(i,"locale",o.defaultLocale)};0<r.length&&(e.additionalProps=r.reduce(function(e,r){return e[r]=o.kit.getProp(i,r,null),e},{})),-1===o.foundLocales.indexOf(e.locale)&&o.foundLocales.push(e.locale),n.push(e)}}const a=[],d=n.length;for(let r=0;r<d;r++){const e=n[r],i=[e.id],s=[e.pathName];for(let r=e.parent;!o.kit.isEmpty(r);){const a=n.filter(i=>i.id==r&&i.locale==e.locale);if(o.kit.isEmpty(a))break;const d=a[0];s.push(d.pathName),i.push(d.id),r=d.parent}!o.kit.isEmpty(o.defaultLocale)&&o.defaultLocale!=e.locale&&o.ignoreLocalePathForDefaultLocale&&s.push(e.locale.toLowerCase()),e.roots=i,e.fullpath=o.basePath+s.filter(e=>0<e.length).reverse().join("/"),a.push(e)}return o.views=[].concat(a),o},o.prototype.matchPath=function(e){const o=this,r=o.getViewByID(o.defaultViewID,o.activeLocale),n=o.browserStore.getItem(o.storeKeyPrefix+"RESTORE_VIEW_ID");if(!o.kit.isEmpty(n)){const e=o.getViewByID(n,o.activeLocale);if(o.browserStore.removeItem(o.storeKeyPrefix+"RESTORE_VIEW_ID"),e)return e}let s=null;if(!o.kit.isEmpty(e))s=e;else if(o.useAddressBar())try{const e=new URL(window.location.href);s=e.pathname}catch(i){}else s=o.browserStore.getItem(o.storeKeyPrefix+"ACTIVE_PATH");if(o.kit.isEmpty(s))return r;const a=s.split("/"),d=a.filter(e=>0<e.length).join("/"),p=o.basePath+d,l=o.views.length;for(let r=0;r<l;r++){const e=o.views[r];if(p==e.fullpath)return e;if(!o.kit.isEmpty(o.defaultLocale)&&o.defaultLocale==e.locale&&o.ignoreLocalePathForDefaultLocale){const i=o.basePath+o.defaultLocale+"/"+d;if(i==e.fullpath)return e}}return r},o.prototype.hasMatch=function(e="/"){const o=this,r=e.split("/"),n=r.filter(e=>0<e.length).join("/"),s=o.basePath+n,a=o.views.length;for(let r=0;r<a;r++){const e=o.views[r];if(s==e.fullpath)return e.id;if(!o.kit.isEmpty(o.defaultLocale)&&o.defaultLocale==e.locale&&o.ignoreLocalePathForDefaultLocale){const i=o.basePath+o.defaultLocale+"/"+n;if(i==e.fullpath)return e.id}}return!1},o.prototype.getViewByID=function(e,i=null){const o=this,r=o.views.filter(function(r){return o.kit.isNotEmpty(i)&&-1!==o.foundLocales.indexOf(i)?r.id==e&&r.locale==i:o.kit.isNotEmpty(o.activeLocale)?r.id==e&&r.locale==o.activeLocale:o.kit.isNotEmpty(o.defaultLocale)?r.id==e&&r.locale==o.defaultLocale:r.id==e});return o.kit.isNotEmpty(r)?r[0]:void 0},o.prototype.shift=function(e,i=null){const o=this;if(!o.kit.isString(e))return;const r=o.getActiveView(),n=o.kit.isEmpty(i)||-1===o.foundLocales.indexOf(i)?o.activeLocale:i,s=o.getViewByID(e,n);if(!o.kit.isEmpty(s)){if(o.emit("beforeShift",[r,s]),o.history.unshift(s),o.useAddressBar())try{window.history.pushState(null,null,s.fullpath)}catch(i){}const e=o.getActiveView();return o.browserStore.setItem(o.storeKeyPrefix+"ACTIVE_PATH",e.fullpath),o.emit("afterShift",[e,o.getPrevView()]),o.kit.isEmpty(r)&&o.emit("initialShift",[e]),!0}},o.prototype.useAddressBar=function(){return!0===this.manipulateAddressBar&&!1===this.isLocalFilesystem},o.prototype.getActiveView=function(){return 0<this.history.length?this.history[0]:null},o.prototype.getPrevView=function(){return 1<this.history.length?this.history[1]:null},o.prototype.getLink=function(e,i,o){const r=this;if(!r.kit.isString(e))return;const n=!r.kit.isEmpty(i)&&r.kit.isString(i)?i:"",s=r.kit.isEmpty(o)?r.getActiveView().locale:o,a=r.getViewByID(e,s);return r.kit.isEmpty(a)?void 0:n+a.fullpath},o.prototype.findAlternates=function(e,i){const o=this;if(!o.kit.isString(e)||o.kit.isEmpty(o.defaultLocale))return[];const r=o.kit.isEmpty(i)?"":i,n=o.views.filter(i=>i.id==e);if(o.kit.isEmpty(n))return[];/[-_]/;return n.map(function(e){return{lang:e.locale,url:r+e.fullpath}})},o.prototype.genHierarchicalMap=function(e,i){function o(e){const i=r.views.filter(i=>i.parent==e.id&&i.locale==n);return e.children=r.kit.isEmpty(i)?[]:i.map(e=>o(e)),e}const r=this,n=r.kit.isEmpty(i)?r.getActiveView().locale:i;return r.views.filter(i=>i.locale==n&&(r.kit.isEmpty(e)?r.kit.isEmpty(i.parent):i.parent==e)).map(e=>o(e))},o.prototype.breadcrumb=function(e,i){const o=this;return e.roots.reverse().map(function(r){const n=o.getViewByID(r,e.locale);return{url:i+n.fullpath,title:n.metadata.title}})},o.prototype.getInitialLocation=function(){return this.initialLocation},i.exports=o},{"event-emitter-object":11,"local-storage-pro":15}],25:[function(e,i){i.exports=function(){if(!this.getRouter())return[""];const e=this.getRouter().getActiveView();if(!e)return[""];const i=e.component;return"function"==typeof i?i():i}},{}],26:[function(e,i){function o(e,i){r.call(this,e),this.id=i.id,this.resolver=i.resolver}const r=e("event-emitter-object");o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.request=function(e,i){const o=this;i.emit("beforeFetch"),o.emit("beforeFetch"),o.resolver.apply(o,[e]).then(function(e){i.updateState({_data:e}),i.emit("afterFetch"),o.emit("afterFetch")}).catch(function(e){o.emit("error",[e])})},i.exports=o},{"event-emitter-object":11}],27:[function(e,i){i.exports=["animate","animateMotion","animateTransform","circle","clipPath","color-profile","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","svg","switch","symbol","text","textPath","tspan","use","view"]},{}]},{},[23])(23)});